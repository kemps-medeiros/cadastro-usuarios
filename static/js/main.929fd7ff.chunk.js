(this["webpackJsonpcadastro-usuarios"]=this["webpackJsonpcadastro-usuarios"]||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},112:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(53),c=n.n(r),i=(n(104),n(41)),o=n(99),l=n(4),d=n(24),j=n(54),m=n.n(j),u=n(93),b=n(6),O=Object(a.createContext)({token:null,setToken:function(){}}),x=n(30),h=(n(106),n(0)),v=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(a.useContext)(O).setToken;return Object(h.jsx)("nav",{className:"navbar",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"navbar__container",children:[Object(h.jsx)("ul",{className:"navbar__left",children:Object(h.jsxs)("div",{className:"navbar__left-logo",children:[Object(h.jsx)(x.a,{className:"toglle",onClick:function(){return s(!n)}}),Object(h.jsx)("div",{className:"logo",children:"CADASTRO - VINGADORES"})]})}),Object(h.jsx)("div",{className:"links",id:n?"hidden":"",children:Object(h.jsxs)("ul",{className:"navbar__right",children:[Object(h.jsx)("li",{children:Object(h.jsx)(d.b,{to:"/list",onClick:function(){return s(!n)},children:"Usu\xe1rios"})}),Object(h.jsx)("li",{children:Object(h.jsx)(d.b,{to:"/include",onClick:function(){return s(!n)},children:"Inclus\xe3o"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#",onClick:function(){r(null),s(!n)},children:"Logout"})})]})})]})})})},f=(n(112),n(15)),p=n.n(f),_=n(57),g=n.n(_),N=n(2),C=n(3);C.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}",typeError:"deve ser um n\xfamero"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var S=C.b().shape({name:C.d().required(),email:C.d().email().required(),emaillogin:C.d().email(),emailRegister:C.d().email(),cpf:C.a().typeError("*Deve ser um numero").required(),cep:C.d().required(),rua:C.d().required(),bairro:C.d().required(),numero:C.a().required(),cidade:C.d().required(),passwordRegister:C.d().min(4)}),y=(n(238),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"60%"}});g.a.setAppElement("#root");var E=function(e){var t=e.onClose,n=e.selectedUser,s=Object(a.useState)(n),r=Object(b.a)(s,2),c=r[0];r[1];Object(a.useEffect)((function(){console.log(c)}),[]),Object(a.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}));var i=function(e){console.log(e),"Escape"===e.key&&t(null)},o=function(){t(null)};return Object(h.jsx)("div",{children:Object(h.jsxs)(g.a,{isOpen:!0,style:y,onRequestClose:o,children:[Object(h.jsx)("div",{className:"btn__modal",children:Object(h.jsx)("button",{className:"btn__x",onClick:o,children:"X"})}),Object(h.jsx)("div",{id:"modalUser",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Alterar Dados"}),Object(h.jsx)("div",{className:"form__modal",children:Object(h.jsx)(N.d,{className:"formik",validationSchema:S,onSubmit:function(e,t,n){p.a.put("http://localhost:5000/usuarios/".concat(e.id),{nome:e.name,cpf:e.cpf,email:e.email,"endere\xe7o":{cep:e.cep,rua:e.rua,numero:e.numero,bairro:e.bairro,cidade:e.cidade}}).then((function(e){console.log(e),o()}))},initialValues:{id:c.id,name:c.nome,cpf:c.cpf,email:c.email,cep:c.cep,rua:c.rua,numero:c.numero,bairro:c.bairro,cidade:c.cidade},render:function(e){e.values,e.errors,e.touched;var t=e.isValid,n=e.setFieldValue;return Object(h.jsxs)(N.c,{className:"form__modal",children:[Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"Nome"}),Object(h.jsx)(N.b,{name:"name",type:"text"}),Object(h.jsx)(N.a,{name:"name"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"CPF"}),Object(h.jsx)(N.b,{name:"cpf",type:"text"}),Object(h.jsx)(N.a,{name:"cpf"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)(N.b,{name:"email",type:"email"}),Object(h.jsx)(N.a,{name:"email"})]}),Object(h.jsx)("div",{className:"endereco__text",children:Object(h.jsx)("h3",{children:"Endere\xe7o"})}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsxs)("div",{className:"cep__search",children:[Object(h.jsx)("label",{children:"CEP"}),Object(h.jsx)("div",{className:"div__search",children:Object(h.jsx)("button",{className:"search",children:"Buscar CEP: "})})]}),Object(h.jsx)(N.b,{name:"cep",type:"text",onBlur:function(e){return function(e,t){var n=e.target.value,a=null===n||void 0===n?void 0:n.replace(/[^0-9]/g,"");8===(null===a||void 0===a?void 0:a.length)&&fetch("https://viacep.com.br/ws/".concat(a,"/json/")).then((function(e){return e.json()})).then((function(e){t("rua",e.logradouro),t("bairro",e.bairro),t("cidade",e.localidade),console.log(e)}))}(e,n)}}),Object(h.jsx)(N.a,{name:"cep"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"Rua"}),Object(h.jsx)(N.b,{name:"rua",type:"text"}),Object(h.jsx)(N.a,{name:"rua"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"N\xfamero"}),Object(h.jsx)(N.b,{name:"numero",type:"number"}),Object(h.jsx)(N.a,{name:"numero"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"Bairro"}),Object(h.jsx)(N.b,{name:"bairro",type:"text"}),Object(h.jsx)(N.a,{name:"bairro"})]}),Object(h.jsxs)("div",{className:"form__field__modal",children:[Object(h.jsx)("label",{children:"Cidade"}),Object(h.jsx)(N.b,{name:"cidade",type:"text"}),Object(h.jsx)(N.a,{name:"cidade"})]}),Object(h.jsx)("div",{className:"btn__div",children:Object(h.jsx)("button",{className:"btn__include",type:"submit",disabled:!t,children:"Salvar"})})]})}})})]})})]})})},w=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),c=Object(b.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(""),d=Object(b.a)(l,2),j=d[0],f=d[1],_=Object(a.useState)(!1),g=Object(b.a)(_,2),N=g[0],C=g[1],S=Object(a.useState)({}),y=Object(b.a)(S,2),w=y[0],$=y[1],k=[],R=(Object(a.useContext)(O).setToken,function(){var e=Object(u.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/usuarios");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,k=n.map((function(e){return{id:e.id,nome:e.nome,filterName:e.nome.toLowerCase(),cpf:e.cpf,email:e.email,cep:e.endere\u00e7o.cep,rua:e.endere\u00e7o.rua,numero:e.endere\u00e7o.numero,bairro:e.endere\u00e7o.bairro,cidade:e.endere\u00e7o.cidade}})),console.log(k),s(k),o(Object.assign([],k));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){R()}),[]);return Object(h.jsxs)("div",{id:"listUsers",children:[Object(h.jsx)(v,{}),Object(h.jsx)("div",{className:"container__list",children:Object(h.jsxs)("section",{children:[Object(h.jsx)("h1",{children:"Lista de Usu\xe1rios Cadastrados"}),Object(h.jsx)("div",{className:"filter",children:Object(h.jsx)("input",{className:"input_search",placeholder:"Filtro por nome...",autoFocus:!0,type:"text",value:j,onChange:function(e){var t=e.target.value;f(t),console.log(j);var a=j.toLowerCase(),s=n.filter((function(e){return e.filterName.includes(a)}));o(s)}})}),0===n.length&&Object(h.jsx)("span",{className:"span__text",children:Object(h.jsx)("h1",{children:"Carregando dados dos Usu\xe1rios..."})}),n.length>0&&Object(h.jsx)("div",{className:"table__users",children:Object(h.jsxs)("table",{className:"users__list",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Nome"}),Object(h.jsx)("th",{children:"CPF"}),Object(h.jsx)("th",{children:"Email"}),Object(h.jsx)("th",{children:"Cidade"}),Object(h.jsx)("th",{children:"Excluir"}),Object(h.jsx)("th",{children:"Alterar"})]})}),Object(h.jsx)("tbody",{children:i.map((function(e){var t=e.id;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.nome}),Object(h.jsx)("td",{children:e.cpf}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.cidade}),Object(h.jsx)("td",{children:Object(h.jsx)(x.c,{id:t,className:"delete__icon",onClick:function(){return function(e){console.log(e),p.a.delete("http://localhost:5000/usuarios/".concat(e)).then((function(e){console.log(e),R()}))}(t)}})}),Object(h.jsx)("td",{children:Object(h.jsx)(x.b,{className:"edit__icon",id:t,onClick:function(){return function(e){$(e),C(!0)}(e)}})})]},e.id)}))})]})})]})}),N&&Object(h.jsx)(E,{onSave:function(){},onClose:function(){C(!1),R()},selectedUser:w})]})};n(239);C.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var $=C.b().shape({emailRegister:C.d().email().required(),passwordRegister:C.d().min(4).required()});C.c({mixed:{default:"\xe9 inv\xe1lido",required:"*Campo obrigat\xf3rio",oneOf:"deve ser um dos seguintes valores: ${values}",notOneOf:"n\xe3o pode ser um dos seguintes valores: ${values}"},string:{length:"deve ter exatamente ${length} caracteres",min:"deve ter pelo menos ${min} caracteres",max:"deve ter no m\xe1ximo ${max} caracteres",email:"*Formato de email inv\xe1lido",url:"deve ter um formato de URL v\xe1lida",trim:"n\xe3o deve conter espa\xe7os no in\xedcio ou no fim.",lowercase:"deve estar em mai\xfasculo",uppercase:"deve estar em min\xfasculo"},number:{min:"deve ser no m\xednimo ${min}",max:"deve ser no m\xe1ximo ${max}",lessThan:"deve ser menor que ${less}",moreThan:"deve ser maior que ${more}",notEqual:"n\xe3o pode ser igual \xe0 ${notEqual}",positive:"deve ser um n\xfamero pos\xedtivo",negative:"deve ser um n\xfamero negativo",integer:"deve ser um n\xfamero inteiro"}});var k=C.b().shape({emaillogin:C.d().email()}),R=function(){var e=Object(a.useContext)(O).setToken,t=Object(l.g)();return Object(h.jsx)("div",{className:"loginAndRegister",children:Object(h.jsx)("div",{className:"col-4 center",children:Object(h.jsxs)("div",{className:"login__area",children:[Object(h.jsx)("h1",{children:"VINGADORES"}),Object(h.jsx)("h2",{children:"CADASTRO DE USU\xc1RIOS"}),Object(h.jsxs)("div",{className:"login",children:[Object(h.jsx)("h3",{children:"Login"}),Object(h.jsx)(N.d,{validationSchema:k,onSubmit:function(n,a){p.a.get("http://localhost:5000/administradores",{username:n.emaillogin,password:n.password}).then((function(a){var s=a.data.filter((function(e){return e.username===n.emaillogin}));0===s.length?(alert("Usu\xe1rio ou senha incorreta"),console.log("Usu\xe1rio n\xe3o encontrado")):s.length>0&&(s[0].username===n.emaillogin&&s[0].password===n.password?(e("1234"),t.push("/list")):alert("Usu\xe1rio ou senha incorreta")),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""}))}))},initialValues:{emaillogin:"",password:""},render:function(e){e.values,e.errors,e.touched,e.isValid,e.setFieldValue;return Object(h.jsxs)(N.c,{className:"formik__login",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)(N.b,{type:"email",autoFocus:!0,name:"emaillogin"}),Object(h.jsx)(N.a,{name:"emaillogin"}),Object(h.jsx)("label",{children:"Senha"}),Object(h.jsx)(N.b,{type:"password",name:"password"}),Object(h.jsx)("div",{className:"btn",children:Object(h.jsxs)("button",{className:"btn__enter",type:"submit",children:[" ","Entrar"," "]})})]})}})]}),Object(h.jsxs)("div",{className:"registration",children:[Object(h.jsx)("h3",{children:"Registrar"}),Object(h.jsx)(N.d,{validationSchema:$,onSubmit:function(e,t){p.a.post("http://localhost:5000/administradores",{username:e.emailRegister,password:e.passwordRegister}).then((function(e){console.log(e),alert("Usu\xe1rio Cadastrado com Sucesso")})),t.resetForm()},initialValues:{emailRegister:"",passwordRegister:""},render:function(e){e.values,e.errors,e.touched,e.isValid,e.setFieldValue;return Object(h.jsxs)(N.c,{className:"formik__register",children:[Object(h.jsxs)("div",{className:"form__register__fields",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)(N.b,{type:"text",name:"emailRegister"}),Object(h.jsx)(N.a,{name:"emailRegister"})]}),Object(h.jsxs)("div",{className:"form__register__fields",children:[Object(h.jsx)("label",{children:"Senha"}),Object(h.jsx)(N.b,{type:"password",name:"passwordRegister"}),Object(h.jsx)(N.a,{name:"passwordRegister"})]}),Object(h.jsx)("div",{className:"btn",children:Object(h.jsx)("button",{className:"btn__register",type:"submit",children:"Registrar"})})]})}})]})]})})})},q=n(40),U=n.n(q),A={};try{if(!window.localStorage)throw Error("no local storage");A.set=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},A.get=function(e){var t=localStorage.getItem(e);try{return JSON.parse(t)}catch(n){return null}},A.remove=function(e){return localStorage.removeItem(e)}}catch(P){A.set=U.a.set,A.get=U.a.getJSON,A.remove=U.a.remove}var F=A;var T=function(e){var t=e.children,n=function(e){var t=Object(a.useState)((function(){return F.get(e)})),n=Object(b.a)(t,2),s=n[0],r=n[1];return[s,Object(a.useCallback)((function(t){F.set(e,t),r(t)}),[e]),Object(a.useCallback)((function(){F.remove(e),r(void 0)}),[e])]}("token"),s=Object(b.a)(n,2),r=s[0],c=s[1];return Object(h.jsx)(O.Provider,{value:{token:r,setToken:c},children:t})},V=(n(240),function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(v,{}),Object(h.jsx)("div",{id:"include",children:Object(h.jsxs)("div",{className:"container__include",children:[Object(h.jsx)("h1",{children:"Inclus\xe3o de novo Usu\xe1rio"}),Object(h.jsx)("div",{className:"form",children:Object(h.jsx)(N.d,{validationSchema:S,onSubmit:function(e,t){p.a.post("http://localhost:5000/usuarios",{nome:e.name,cpf:e.cpf,email:e.email,"endere\xe7o":{cep:e.cep,rua:e.rua,numero:e.numero,bairro:e.bairro,cidade:e.cidade}}).then((function(e){console.log(e)})),t.resetForm(),alert("USU\xc1RIO CADASTRADO COM SUCESSO")},initialValues:{name:"",cpf:"",email:"",cep:"",rua:"",numero:"",bairro:"",cidade:""},render:function(e){e.values,e.errors,e.touched;var t=e.isValid,n=e.setFieldValue;return Object(h.jsxs)(N.c,{className:"form__formik",children:[Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"Nome"}),Object(h.jsx)(N.b,{name:"name",type:"text"}),Object(h.jsx)(N.a,{name:"name"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"CPF"}),Object(h.jsx)(N.b,{name:"cpf",type:"text"}),Object(h.jsx)(N.a,{name:"cpf"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)(N.b,{name:"email",type:"email"}),Object(h.jsx)(N.a,{name:"email"})]}),Object(h.jsx)("div",{className:"endereco__text",children:Object(h.jsx)("h3",{children:"Endere\xe7o"})}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsxs)("div",{className:"cep__search",children:[Object(h.jsx)("label",{children:"CEP"}),Object(h.jsx)("div",{className:"div__search",children:Object(h.jsx)("button",{className:"search",children:"Buscar CEP: "})})]}),Object(h.jsx)(N.b,{name:"cep",type:"text",onBlur:function(e){return function(e,t){var n=e.target.value,a=null===n||void 0===n?void 0:n.replace(/[^0-9]/g,"");8===(null===a||void 0===a?void 0:a.length)&&fetch("https://viacep.com.br/ws/".concat(a,"/json/")).then((function(e){return e.json()})).then((function(e){t("rua",e.logradouro),t("bairro",e.bairro),t("cidade",e.localidade),console.log(e)}))}(e,n)}}),Object(h.jsx)(N.a,{name:"cep"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"Rua"}),Object(h.jsx)(N.b,{name:"rua",type:"text"}),Object(h.jsx)(N.a,{name:"rua"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"N\xfamero"}),Object(h.jsx)(N.b,{name:"numero",type:"number"}),Object(h.jsx)(N.a,{name:"numero"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"Bairro"}),Object(h.jsx)(N.b,{name:"bairro",type:"text"}),Object(h.jsx)(N.a,{name:"bairro"})]}),Object(h.jsxs)("div",{className:"form__field",children:[Object(h.jsx)("label",{children:"Cidade"}),Object(h.jsx)(N.b,{name:"cidade",type:"text"}),Object(h.jsx)(N.a,{name:"cidade"})]}),Object(h.jsx)("div",{className:"btn__div",children:Object(h.jsx)("button",{className:"btn__include",type:"submit",disabled:!t,children:"Cadastrar Novo Usu\xe1rio"})})]})}})})]})})]})}),I=function(e){var t=e.component,n=Object(o.a)(e,["component"]),s=Object(a.useContext)(O).token;return Object(h.jsx)(l.b,Object(i.a)(Object(i.a)({},n),{},{render:function(){return s?Object(h.jsx)(t,Object(i.a)({},n)):Object(h.jsx)(l.a,{to:"/"})}}))},L=function(){return Object(h.jsx)(d.a,{children:Object(h.jsx)(T,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",component:R}),Object(h.jsx)(I,{exact:!0,path:"/list",component:w}),Object(h.jsx)(I,{exact:!0,path:"/include",component:V})]})})})};var D=function(){return Object(h.jsx)(L,{})};c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.929fd7ff.chunk.js.map